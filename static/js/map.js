var myData=

[
    {"coordinates_dms":"5\u00b0 41' 26\" S, 57\u00b0 3' 49\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-20.jpg","filename":"PHOTO-2023-10-13-14-52-20.jpg","id":75,"picture_date":"2023-08-12","picture_time":"13:33:59","upload_date":"2023-11-19","upload_time":"14:21:46.305222"},
    {"coordinates_dms":"5\u00b0 16' 30\" S, 57\u00b0 32' 4\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-20_3.jpg","filename":"PHOTO-2023-10-13-14-52-20_3.jpg","id":76,"picture_date":"2023-08-13","picture_time":"11:15:30","upload_date":"2023-11-19","upload_time":"14:21:49.782815"},
    {"coordinates_dms":"5\u00b0 16' 30\" S, 57\u00b0 32' 5\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-20_2.jpg","filename":"PHOTO-2023-10-13-14-52-20_2.jpg","id":77,"picture_date":"2023-08-13","picture_time":"11:07:06","upload_date":"2023-11-19","upload_time":"14:21:53.305918"},
    {"coordinates_dms":"6\u00b0 55' 46\" S, 56\u00b0 27' 27\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/Screenshot_2023-11-18_at_12.37.53_PM.png","filename":"Screenshot_2023-11-18_at_12.37.53_PM.png","id":109,"picture_date":"2023-08-10","picture_time":"13:13:08","upload_date":"2023-11-19","upload_time":"14:36:09.736884"},
    {"coordinates_dms":"5\u00b0 46' 34\" S, 56\u00b0 16' 38\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-56-56.jpg","filename":"PHOTO-2023-10-13-14-56-56.jpg","id":111,"picture_date":"2023-08-01","picture_time":"10:17:18","upload_date":"2023-11-19","upload_time":"15:28:20.124350"},
    {"coordinates_dms":"5\u00b0 14' 11\" S, 57\u00b0 26' 47\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-56-56_2.jpg","filename":"PHOTO-2023-10-13-14-56-56_2.jpg","id":112,"picture_date":"2023-08-13","picture_time":"12:23:24","upload_date":"2023-11-19","upload_time":"15:28:23.354991"},
    {"coordinates_dms":"7\u00b0 02' 10\" S, 55\u00b0 23' 27\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-56-55.jpg","filename":"PHOTO-2023-10-13-14-56-55.jpg","id":113,"picture_date":"2023-05-30","picture_time":"10:27:42","upload_date":"2023-11-19","upload_time":"15:28:28.388916"},
    {"coordinates_dms":"7\u00b0 15' 03\" S, 56\u00b0 15' 31\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-56-55_2.jpg","filename":"PHOTO-2023-10-13-14-56-55_2.jpg","id":114,"picture_date":"2023-08-10","picture_time":"10:04:53","upload_date":"2023-11-19","upload_time":"15:28:32.670791"},
    {"coordinates_dms":"5\u00b0 46' 34\" S, 35\u00b0 13' 38\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-53-51.jpg","filename":"PHOTO-2023-10-13-14-53-51.jpg","id":115,"picture_date":"2023-04-17","picture_time":"20:20:00","upload_date":"2023-11-19","upload_time":"15:28:36.823765"},
    {"coordinates_dms":"4\u00b0 18' 44\" S, 56\u00b0 06' 12\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-16.jpg","filename":"PHOTO-2023-10-13-14-52-16.jpg","id":93,"picture_date":"2023-05-28","picture_time":"09:22:07","upload_date":"2023-11-19","upload_time":"14:33:25.722477"},
    {"coordinates_dms":"7\u00b0 14' 49\" S, 56\u00b0 15' 30\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-16_6.jpg","filename":"PHOTO-2023-10-13-14-52-16_6.jpg","id":94,"picture_date":"2023-08-10","picture_time":"09:48:27","upload_date":"2023-11-19","upload_time":"14:33:30.736728"},
    {"coordinates_dms":"6\u00b0 12' 30\" S, 55\u00b0 37' 31\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-16_5.jpg","filename":"PHOTO-2023-10-13-14-52-16_5.jpg","id":95,"picture_date":"2023-05-29","picture_time":"16:12:51","upload_date":"2023-11-19","upload_time":"14:33:34.239645"},
    {"coordinates_dms":"6\u00b0 13' 08\" S, 55\u00b0 39' 17\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-16_4.jpg","filename":"PHOTO-2023-10-13-14-52-16_4.jpg","id":96,"picture_date":"2023-05-29","picture_time":"16:06:42","upload_date":"2023-11-19","upload_time":"14:33:42.323407"},
    {"coordinates_dms":"6\u00b0 13' 32\" S, 55\u00b0 39' 18\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-16_3.jpg","filename":"PHOTO-2023-10-13-14-52-16_3.jpg","id":97,"picture_date":"2023-05-29","picture_time":"16:06:08","upload_date":"2023-11-19","upload_time":"14:34:15.486988"},
    {"coordinates_dms":"6\u00b0 13' 55\" S, 55\u00b0 37' 53\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-16_2.jpg","filename":"PHOTO-2023-10-13-14-52-16_2.jpg","id":98,"picture_date":"2023-05-29","picture_time":"16:03:00","upload_date":"2023-11-19","upload_time":"14:34:23.455491"},
    {"coordinates_dms":"5\u00b0 21' 29\" S, 57\u00b0 08' 21\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-15_3.jpg","filename":"PHOTO-2023-10-13-14-52-15_3.jpg","id":99,"picture_date":"2023-05-26","picture_time":"14:09:30","upload_date":"2023-11-19","upload_time":"14:34:31.493008"},
    {"coordinates_dms":"5\u00b0 21' 28\" S, 57\u00b0 08' 19\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-15_2.jpg","filename":"PHOTO-2023-10-13-14-52-15_2.jpg","id":100,"picture_date":"2023-05-26","picture_time":"13:36:53","upload_date":"2023-11-19","upload_time":"14:34:36.407644"},
    {"coordinates_dms":"5\u00b0 21' 29\" S, 57\u00b0 08' 20\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-15.jpg","filename":"PHOTO-2023-10-13-14-52-15.jpg","id":101,"picture_date":"2023-05-26","picture_time":"12:59:02","upload_date":"2023-11-19","upload_time":"14:34:50.016236"},
    {"coordinates_dms":"5\u00b0 21' 28\" S, 57\u00b0 08' 22\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/PHOTO-2023-10-13-14-52-14.jpg","filename":"PHOTO-2023-10-13-14-52-14.jpg","id":102,"picture_date":"2023-05-26","picture_time":"12:42:43","upload_date":"2023-11-19","upload_time":"14:34:55.791363"},
    {"coordinates_dms":"5\u00b0 29' 30\" S, 57\u00b0 13' 05\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/fa5f1fe0-053d-4de0-aad4-7e2f4291feb8.JPG","filename":"fa5f1fe0-053d-4de0-aad4-7e2f4291feb8.JPG","id":103,"picture_date":"2023-05-26","picture_time":"11:11:15","upload_date":"2023-11-19","upload_time":"14:34:59.069259"},
    {"coordinates_dms":"5\u00b0 29' 28\" S, 57\u00b0 13' 06\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/e25a07ef-e266-420c-831b-f15d07853b90.JPG","filename":"e25a07ef-e266-420c-831b-f15d07853b90.JPG","id":104,"picture_date":"2023-05-26","picture_time":"11:25:27","upload_date":"2023-11-19","upload_time":"14:35:02.398961"},
    {"coordinates_dms":"5\u00b0 02' 35\" S, 56\u00b0 48' 55\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/56934d83-4d7c-4dc3-84e2-05750df086b4.JPG","filename":"56934d83-4d7c-4dc3-84e2-05750df086b4.JPG","id":105,"picture_date":"2023-05-26","picture_time":"10:02:10","upload_date":"2023-11-19","upload_time":"14:35:06.770062"},
    {"coordinates_dms":"5\u00b0 29' 39\" S, 57\u00b0 13' 05\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/46e113a1-b0c8-4d53-93ae-64b067ef3460.JPG","filename":"46e113a1-b0c8-4d53-93ae-64b067ef3460.JPG","id":107,"picture_date":"2023-05-26","picture_time":"11:01:38","upload_date":"2023-11-19","upload_time":"14:35:14.318311"},
    {"coordinates_dms":"6\u00b0 55' 46\" S, 56\u00b0 27' 27\" W","description":"Operation ABC","file_url":"https://amazoniahack.s3.amazonaws.com/Screenshot_2023-11-18_at_12.37.53_PM.png","filename":"Screenshot_2023-11-18_at_12.37.53_PM.png","id":109,"picture_date":"2023-08-10","picture_time":"13:13:08","upload_date":"2023-11-19","upload_time":"14:36:09.736884"}
];

const map=L.map('map').setView([-5.016389,-56.615833],9);
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom:19,
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);


const customIcon=L.icon({iconUrl: 'static/js/icon.png', iconSize:[40,40]})

for(item of myData){
    var newCoord=convertCoordinates(item.coordinates_dms);
    console.log(newCoord);


    var content=`<img src=${item.file_url}><br><h1>${item.description}</h1><p>Date: ${item.picture_date}<br> Time: ${item.picture_time} <br>Location:  ${item.coordinates_dms} </p>`
    console.log(content);

    

    L.marker(newCoord,{icon: customIcon}).addTo(map)
   .bindPopup(content,{offset:[0,-19]});
}

function convertCoordinates(coord){
    coord=coord.split(/[\'\"Â°,]/);
    var d1=parseFloat(coord[0]);
    var m1=parseFloat(coord[1]);
    var s1=parseFloat(coord[2]);

    var d2=parseFloat(coord[4]);
    var m2=parseFloat(coord[5]);
    var s2=parseFloat(coord[6]);

    var dd1 = -1*d1 + m1/60 + s1/3600;
    var dd2=-1*d2 + m2/60 + s2/3600
    
    return [dd1,dd2];

}



